<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Babushka</title>
</head>

<style>
    article {
        border: solid 2px orange;
        margin: 10px 0;
        border-radius: 10px;
        padding: 10px;
    }

    body {

        margin-left: 50px;
        margin-right: 50px;
        margin-top: 50px;
        margin-bottom: 50px;
    }


    img {
        width: 50vw;
        border-radius: 10px;
    }

</style>


<body>

    <main>
        <article class="ret">

            <h2 class="navn"> </h2>

            <img src="" alt="" class="billede">

            <p class="beskrivelse"></p>

            <button>Tilbage</button>

        </article>


    </main>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const id = urlParams.get("id");


        const medieurl = "https://babushka-dd8a.restdb.io/media/";
        let retter;
        const myHeaders = {

            "x-apikey": "600ec2fb1346a1524ff12de4"
        }

        console.log("ID", id);

        document.addEventListener("DOMContentLoaded", loadJSON)


        async function loadJSON() {
            const JSONData = await fetch(`https://babushka-dd8a.restdb.io/rest/menu/${id}`, {
                headers: myHeaders
            });
            ret = await JSONData.json();
            console.log("retter", ret);
            visRet(ret);
        }

        //funktion der viser personer i liste view
        function visRet() {
            console.log()
            document.querySelector(".navn").textContent = ret.navn;
            document.querySelector(".billede").src = medieurl + ret.billede;
            document.querySelector(".beskrivelse").textContent = ret.langbeskrivelse;
            document.querySelector("button").addEventListener("click", tilbageTilMenu);

        }


        function tilbageTilMenu() {
            history.back();

        }

    </script>

</body>

</html>
